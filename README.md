# 定制版 2048 游戏
> 前提说明：本项目是在业余时间完成的。为了纪念和某人认识二周年，为她写了一个小惊喜游戏，上一版本使用 jQuery 库和 RequireJS 加载器完成的，当时还植入了一个小惊喜模块「lover 模块，采用百度一个开源框架 [ZRender](https://github.com/ecomfe/zrender)，本质是 SVG 渲染技术，用来渲染爱心动画效果」。

本项目是在上一版基础上，重新使用 Backbone 框架做了一次重构。这次采用了 CommonJS 规范加载模块和 Webpack 工具打包模块。本次重构强化了 MVC 和 模块化加载的开发理念，算是一次技术训练。

## 主要技术功能介绍
* Router 管理
	* 游戏有三个角色，角色切换靠 Router 来实现，每一个 Hash 值对应一个角色，当 Hash 值改变时，重新渲染游戏主界面
* View 管理：
	* AppView 统筹所有 View
	* StartView 负责开始界面
	* MainView 负责游戏界面方块部分界面
	* HeaderView 负责游戏界面标题部分界面
	* GridView 负责每一个小方块界面
	* GameOverView 负责游戏结束提示界面
	* 三个游戏角色共享所有的 View，当用户切换角色时重新读取对应角色游戏的数据，从而渲染新的 View
* 数据管理：
	* GridModel 负责管理小方块的数据：显示位置、方块分数、显示文本、方块在二维数组中的位置
	* GridsCollection 负责管理所有小方块的位置：用一个二维数组映射方块实际渲染位置。同时附带一些核心业务逻辑：判断游戏是否结束，处理方块位置移动，添加新的方块
	* HeaderModel 负责管理游戏名称和游戏得分数据：即时更新当前得分和最高得分数，可配置不同游戏名称
	* 三个游戏角色各自拥有一个独立的 GridsCollection 和 HeaderModel，保证在切换游戏角色时保留原来的数据
* 开发理念
	* 引入模块开发并使用`CommonJS`规范
	* 使用`Webpack`工具加载、打包和压缩 JS 模块文件，最后打包成 bundle-app.js 和 vender.js 文件，后者都是各种第三方库
	* 将`HTML`模板独立成单一模块文件，同时让模块 JS 文件加载对应的 HTML 模板文件，提前解析模板，减少客户端渲染模板时间
	* 采用`SCSS`模块开发理念，将 CSS 拆分成模块单独开发，最后使用`Gulp`工具自动编译、打包和压缩 CSS「觉得内置 CSS 的方式不适合本项目，所以这里了没有使用 Webpack 引入 SCSS」
	
## 功能和玩法介绍
1. 本项目优先适配移动端，支持触屏滑动小方块
2. PC 端可采用箭头操作移动小方块
3. 线上体验地址：[点这里](http://mindspop.github.io/project/2048/)


## 后续优化
1. 采用 LocalStorage 缓存游戏数据
2. 增加游戏成功判断条件「目前支持玩到 2048」
3. 增加小惊喜 lover 模块
4. 优化 PC 端显示效果